import{r as l,j as h,X as y,Y as b}from"./index-Dg9LI47u.js";import{c as d}from"./classNames-C_19Q5Yu.js";const k=l.createContext({}),z=k.Provider;k.Consumer;function P(){return l.useContext(k)}function E(e){const n=l.useRef(e);return l.useEffect(()=>{n.current=e}),l.useMemo(()=>(...o)=>{var t;return(t=n.current)==null?void 0:t.call(n,...o)},[])}function N({defaultProp:e,onChange:n}){const o=l.useState(e),[t]=o,u=l.useRef(t),r=E(n);return l.useEffect(()=>{u.current!==t&&(r(t),u.current=t)},[t,u,r]),o}function j({prop:e,defaultProp:n,onChange:o=()=>{}}){const[t,u]=N({defaultProp:n,onChange:o}),r=e!==void 0,c=r?e:t,f=E(o),g=l.useCallback(a=>{const s=a;if(r){const i=typeof a=="function"?s(e):a;i!==e&&f(i)}else u(a)},[r,e,u,f]);return[c,g]}const I=e=>{const{children:n,className:o,defaultValue:t,onChange:u=()=>{},ref:r,selectionType:c="single",size:f,value:g,...a}=e,[s,i]=j({prop:g,defaultProp:t,onChange:u}),C=S=>{i(S)},p=S=>{c==="single"&&i(""),c==="multiple"&&i((v=[])=>v.filter(m=>m!==S))},x=l.useMemo(()=>{if(c==="single")return s&&typeof s=="string"?[s]:s&&Array.isArray(s)?s:[];if(c==="multiple")return s||[]},[c,s]);return h.jsx(z,{value:{value:x,onActive:C,onDeactivate:p,selectionType:c,size:f},children:h.jsx("div",{ref:r,className:d("segment","gap-2 bg-gray-100 dark:bg-gray-700",o),...a,children:n})})},M=e=>Array.isArray(e)?e[0]:e,R=e=>{const{children:n,className:o,disabled:t=!1,ref:u,value:r,size:c,...f}=e,{value:g,onActive:a,onDeactivate:s,selectionType:i,size:C}=P(),p=g.includes(r),x=c||C,S=l.useCallback(()=>{let m="";switch(x){case b.LG:m=d(y.lg.h,"md:px-8 py-2 px-4 text-base");break;case b.SM:m=d(y.sm.h,"px-3 py-2 text-sm");break;case b.XS:m=d(y.xs.h,"px-3 py-1 text-xs");break;default:m=d(y.md.h,"px-5 py-2");break}return m},[x]),v=()=>{if(!t){if(p)i==="multiple"&&(s==null||s(r));else if(i==="single"&&(a==null||a(r)),i==="multiple"){const m=[...g,r];a==null||a(m)}}};return typeof n=="function"?M(n)({active:p,onSegmentItemClick:v,disabled:t,value:r,...f}):h.jsx("button",{ref:u,className:d("segment-item",S(),p&&"segment-item-active",t&&"segment-item-disabled",o),onClick:v,...f,children:n})},A=I;A.Item=R;export{A as S,j as u};
